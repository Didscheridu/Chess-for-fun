<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Schach Tycoon (Gratis Shop)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <style>
        /* ==================== DESIGN ==================== */
        :root {
            --bg: #121212;
            --panel: #1e272e;
            --accent: #f1c40f; /* Gold */
            --success: #2ecc71;
            --danger: #e74c3c;
            --text: #ecf0f1;
            --border: #333;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; background-color: var(--bg); color: var(--text); 
            margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; overflow: hidden;
        }

        .screen { 
            width: 100%; height: 100vh; display: none; flex-direction: column; 
            background: var(--bg); overflow-y: auto;
        }
        .active { display: flex; }

        h1, h2, h3 { margin: 0; padding: 0; text-transform: uppercase; letter-spacing: 1px; color: var(--accent); }

        button { 
            padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; 
            font-size: 1rem; transition: 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px;
            width: 100%; margin-bottom: 8px;
        }
        button:active { transform: scale(0.98); }

        .btn-gold { background: linear-gradient(135deg, #f1c40f, #d35400); color: #111; }
        .btn-green { background: var(--success); color: white; }
        .btn-red { background: var(--danger); color: white; }
        .btn-dark { background: #333; color: #ccc; }
        .btn-blue { background: #3498db; color: white; }

        input { 
            background: #252530; border: 1px solid var(--border); color: white; padding: 12px; 
            border-radius: 6px; width: 100%; box-sizing: border-box; margin-bottom: 10px; outline: none;
        }
        input:focus { border-color: var(--accent); }

        .centered-box { 
            width: 100%; max-width: 400px; padding: 30px; background: var(--panel); 
            border-radius: 12px; text-align: center; margin: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .main-layout { display: flex; height: 100%; }
        .sidebar { 
            width: 280px; background: var(--panel); border-right: 1px solid var(--border); 
            display: flex; flex-direction: column; padding: 20px; box-sizing: border-box;
        }
        .content-area { flex: 1; padding: 30px; overflow-y: auto; }

        /* PROFILE */
        .profile-card { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid var(--border); }
        .avatar { width: 80px; height: 80px; background: var(--accent); border-radius: 50%; margin: 0 auto 10px; display: grid; place-items: center; font-size: 2rem; color: #111; }
        
        /* SKINS */
        .skin-classic .white-1e1d7 { background-color: #f0d9b5; color: #b58863; }
        .skin-classic .black-3c85d { background-color: #b58863; color: #f0d9b5; }
        
        .skin-ocean .white-1e1d7 { background-color: #dfe6e9; }
        .skin-ocean .black-3c85d { background-color: #74b9ff; }
        
        .skin-ruby .white-1e1d7 { background-color: #fab1a0; }
        .skin-ruby .black-3c85d { background-color: #ff7675; }
        
        .skin-midnight .white-1e1d7 { background-color: #636e72; }
        .skin-midnight .black-3c85d { background-color: #2d3436; }

        /* GAME SCREEN */
        #game-view { display: flex; justify-content: center; align-items: center; height: 100%; gap: 20px; }
        #board-wrapper { width: 550px; height: 550px; position: relative; padding: 10px; background: var(--panel); border-radius: 8px; }
        #board { width: 100%; height: 100%; }
        
        .hud-panel { width: 250px; background: var(--panel); height: 550px; border-radius: 8px; padding: 15px; display: flex; flex-direction: column; }
        
        /* CHAT */
        .chat-box { flex: 1; display: flex; flex-direction: column; background: #111; border-radius: 4px; overflow: hidden; margin: 10px 0; }
        .chat-msgs { flex: 1; overflow-y: auto; padding: 10px; font-size: 0.9rem; }
        .msg { margin-bottom: 5px; }
        .msg b { color: var(--accent); }

        .highlight { box-shadow: inset 0 0 0 4px var(--accent); }
        .dot { background: radial-gradient(rgba(46, 204, 113, 0.8) 20%, transparent 25%); cursor: pointer; }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(5px);
            z-index: 9999; display: none; justify-content: center; align-items: center;
        }
        .modal-box {
            background: #1e1e24; padding: 40px; border-radius: 12px; text-align: center;
            border: 1px solid var(--accent); box-shadow: 0 0 50px rgba(0,0,0,0.8); width: 350px;
        }

        .particle { position: absolute; width: 6px; height: 6px; border-radius: 50%; pointer-events: none; z-index: 100; }
        .rank-badge { background: #333; padding: 5px 10px; border-radius: 15px; font-size: 0.8em; margin-top: 5px; display: inline-block; color: #fff; border: 1px solid #555; }
    </style>
</head>
<body>

    <div id="screen-login" class="screen active">
        <div class="centered-box">
            <h1>Schach Tycoon</h1>
            <p style="color:#777; margin-bottom:30px;">Login & Play</p>
            
            <input type="text" id="reg-name" placeholder="Benutzername">
            <input type="email" id="reg-email" placeholder="E-Mail Adresse">
            <input type="password" id="reg-pass" placeholder="Passwort">
            
            <button class="btn-gold" onclick="registerUser()">Konto erstellen</button>
            <button class="btn-dark" onclick="loginUser()">Einloggen</button>
            <p id="auth-error" style="color:var(--danger); margin-top:10px;"></p>
        </div>
    </div>

    <div id="screen-lobby" class="screen">
        <div class="main-layout">
            <div class="sidebar">
                <div class="profile-card">
                    <div style="color:var(--success); font-size:0.8em; margin-bottom:5px;">‚óè Eingeloggt</div>
                    
                    <div class="avatar"><i class="fas fa-chess-king"></i></div>
                    <h3 id="display-name">...</h3>
                    
                    <div id="display-email" style="font-size:0.8em; color:#888; margin-bottom:5px;">user@email.com</div>
                    
                    <div class="rank-badge" id="display-rank">Bauer</div>
                    <div style="display:flex; justify-content:space-around; margin-top:15px; width:100%;">
                        <span>üèÜ <b id="display-wins">0</b></span>
                        <span style="color:var(--accent)">üí∞ <b id="display-coins">0</b></span>
                    </div>
                </div>

                <button class="btn-dark" onclick="showTab('home')"><i class="fas fa-home"></i> Startseite</button>
                <button class="btn-dark" onclick="showTab('shop')"><i class="fas fa-store"></i> Skin Shop</button>
                <div style="flex:1"></div>
                <button class="btn-red" onclick="logout()">Abmelden</button>
            </div>

            <div class="content-area">
                <div id="tab-home">
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                        <div style="background:var(--panel); padding:20px; border-radius:8px;">
                            <h3>ü§ñ Training</h3>
                            <p style="color:#aaa;">Spiele gegen den Bot.</p>
                            <button class="btn-blue" onclick="startBotGame()">Starten</button>
                        </div>
                        <div style="background:var(--panel); padding:20px; border-radius:8px;">
                            <h3>üåç Online</h3>
                            <input type="text" id="room-input" placeholder="Raum (z.B. Berlin)">
                            <div style="display:flex; gap:10px;">
                                <button class="btn-gold" onclick="startOnline('white')">Wei√ü</button>
                                <button class="btn-dark" onclick="startOnline('black')">Schwarz</button>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top:30px; background:var(--panel); padding:20px; border-radius:8px;">
                        <h3>üë• Freunde finden</h3>
                        <div style="display:flex; gap:10px;">
                            <input type="text" id="friend-email" placeholder="E-Mail des Freundes" style="margin:0;">
                            <button class="btn-green" style="width:auto;" onclick="addFriend()">Add</button>
                        </div>
                        <div id="friend-list" style="margin-top:15px;"></div>
                    </div>
                </div>

                <div id="tab-shop" style="display:none;">
                    <h2>Skin Shop (Alles Gratis!)</h2>
                    <p>M√ºnzen: <b style="color:var(--accent)" id="shop-coins">0</b></p>
                    <div id="shop-grid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap:15px; margin-top:20px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="screen-game" class="screen">
        <div id="game-view">
            <div id="board-wrapper">
                <div id="board"></div>
                <div id="particle-layer" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none;"></div>
            </div>

            <div class="hud-panel">
                <h3 id="game-status">Warte...</h3>
                <div class="chat-box">
                    <div id="chat-msgs" class="chat-msgs"></div>
                    <div style="display:flex; padding:5px;">
                        <input type="text" id="chat-input" placeholder="..." style="margin:0;">
                        <button class="btn-blue" style="width:auto;" onclick="sendChat()">></button>
                    </div>
                </div>
                <button class="btn-red" onclick="quitGame()">Verlassen</button>
            </div>
        </div>
    </div>

    <div id="modal-gameover" class="modal-overlay">
        <div class="modal-box">
            <i id="go-icon" class="fas fa-trophy" style="font-size:3rem; color:var(--accent); margin-bottom:15px;"></i>
            <h2 id="go-title">GEWONNEN!</h2>
            <p id="go-msg" style="color:#aaa;">Gut gespielt.</p>
            <div style="background:#333; padding:10px; border-radius:4px; margin:20px 0; color:var(--success); font-weight:bold;">
                <span id="go-reward">+50 M√ºnzen</span>
            </div>
            <button class="btn-gold" onclick="closeModal()">Zur√ºck</button>
        </div>
    </div>

    <script>
        // CONFIG
        const firebaseConfig = {
            apiKey: "AIzaSyAwQMhOL1tBQfU5EivFfomrTLf2dINYRZs",
            authDomain: "chess-server-d09b1.firebaseapp.com",
            projectId: "chess-server-d09b1",
            storageBucket: "chess-server-d09b1.firebasestorage.app",
            messagingSenderId: "354655053561",
            appId: "1:354655053561:web:43ea29ed1f01ee366f6428",
            measurementId: "G-B2WK6GD8Z0"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.database();

        // VARS
        let game = new Chess();
        let board = null;
        let selectedSquare = null;
        let userData = {};
        let mode = ''; // bot, online
        let roomId = '';
        let myColor = 'w';
        
        // HIER: ALLES AUF KOSTENLOS GESETZT (Cost: 0)
        const SKINS = {
            'classic': { name:'Klassisch', cost:0, css:'skin-classic' },
            'ocean': { name:'Ozean', cost:0, css:'skin-ocean' },
            'ruby': { name:'Rubin', cost:0, css:'skin-ruby' },
            'midnight': { name:'Mitternacht', cost:0, css:'skin-midnight' }
        };

        const playTone = (freq, type, dur) => {
            let ctx = new (window.AudioContext || window.webkitAudioContext)();
            let osc = ctx.createOscillator();
            let gain = ctx.createGain();
            osc.type = type; osc.frequency.value = freq;
            gain.gain.setValueAtTime(0.1, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + dur);
            osc.connect(gain); gain.connect(ctx.destination);
            osc.start(); osc.stop(ctx.currentTime + dur);
        };

        // --- AUTH ---
        auth.onAuthStateChanged(u => {
            if(u) {
                switchScreen('screen-lobby');
                // Daten laden
                db.ref('users/'+u.uid).on('value', snap => {
                    userData = snap.val() || {};
                    // UI UPDATES
                    $('#display-name').text(userData.username || "Spieler");
                    $('#display-email').text(userData.email || u.email); // EMAIL ANZEIGEN
                    $('#display-wins').text(userData.wins || 0);
                    $('#display-coins').text(userData.coins || 0);
                    $('#shop-coins').text(userData.coins || 0);
                    
                    let w = userData.wins || 0;
                    let r = "Bauer";
                    if(w > 5) r = "Springer";
                    if(w > 15) r = "L√§ufer";
                    if(w > 30) r = "Turm";
                    if(w > 50) r = "Gro√ümeister";
                    $('#display-rank').text(r);

                    renderShop();
                });
                loadFriends();
            } else {
                switchScreen('screen-login');
            }
        });

        function registerUser() {
            let n=$('#reg-name').val(), e=$('#reg-email').val(), p=$('#reg-pass').val();
            if(!n || !e || !p) return $('#auth-error').text("Bitte alles ausf√ºllen.");
            
            auth.createUserWithEmailAndPassword(e,p).then(cred => {
                let safeEmail = e.replace(/\./g, ',');
                let uid = cred.user.uid;
                // Standardwerte setzen
                let data = { username:n, email:e, wins:0, coins:0, skin:'classic', unlockedSkins:['classic'] };
                
                let updates = {};
                updates['users/'+uid] = data;
                updates['email_index/'+safeEmail] = uid;
                db.ref().update(updates);
            }).catch(e => $('#auth-error').text(e.message));
        }
        function loginUser() {
            auth.signInWithEmailAndPassword($('#reg-email').val(), $('#reg-pass').val())
            .catch(e => $('#auth-error').text(e.message));
        }
        function logout() { auth.signOut(); location.reload(); }

        // --- UI ---
        function switchScreen(id) { $('.screen').removeClass('active'); $('#'+id).addClass('active'); }
        function showTab(id) { $('#tab-home, #tab-shop').hide(); $('#tab-'+id).fadeIn(); }

        // --- GAME LOGIC ---
        function initBoard(type) {
            game.reset();
            selectedSquare = null;
            $('#chat-msgs').empty();
            $('#modal-gameover').hide();
            
            let s = userData.skin || 'classic';
            $('#board').removeClass().addClass(SKINS[s].css);

            board = Chessboard('board', {
                draggable: true,
                position: 'start',
                pieceTheme: p => `https://chessboardjs.com/img/chesspieces/wikipedia/${p}.png`,
                onDragStart: onDragStart,
                onDrop: type === 'bot' ? onDropBot : onDropOnline,
                onSnapEnd: () => board.position(game.fen())
            });

            $('#board').off('click').on('click', '.square-55d63', handleSquareClick);
            updateStatus();
        }

        function handleSquareClick() {
            let square = $(this).attr('data-square');
            if(selectedSquare) {
                let move = tryMove(selectedSquare, square);
                if(move) return;
            }
            let piece = game.get(square);
            if(piece && piece.color === game.turn()) {
                if(mode==='online' && piece.color !== myColor.charAt(0)) return;
                if(mode==='bot' && piece.color === 'b') return;
                
                selectedSquare = square;
                $('.square-55d63').removeClass('highlight dot');
                $(this).addClass('highlight');
                game.moves({square:square, verbose:true}).forEach(m => $(`.square-${m.to}`).addClass('dot'));
            } else {
                selectedSquare = null;
                $('.square-55d63').removeClass('highlight dot');
            }
        }

        function onDragStart(source, piece) {
            if(game.game_over()) return false;
            if(mode==='online') {
                if(game.turn() !== myColor.charAt(0) || piece.charAt(0) !== myColor.charAt(0)) return false;
            }
            if(mode==='bot' && piece.search(/^b/) !== -1) return false;
            $('.square-55d63').removeClass('highlight dot');
            selectedSquare = null;
        }

        function tryMove(from, to) {
            let move = null;
            try { move = game.move({from:from, to:to, promotion:'q'}); } catch(e){}
            
            if(move) {
                board.position(game.fen());
                $('.square-55d63').removeClass('highlight dot');
                selectedSquare = null;
                
                if(move.captured) {
                    playTone(150, 'sawtooth', 0.1);
                    spawnParticles(to, move.color === 'w' ? '#000' : '#fff');
                } else playTone(300, 'sine', 0.1);

                if(mode==='online') {
                    db.ref('games/'+roomId).set({fen:game.fen(), lastMove:move});
                } else if(mode==='bot' && game.turn()==='b') {
                    setTimeout(botMove, 500);
                }

                updateStatus();
                checkGameOver();
                return true;
            }
            return false;
        }

        function onDropBot(s, t) { if(!tryMove(s,t)) return 'snapback'; }
        function onDropOnline(s, t) { if(!tryMove(s,t)) return 'snapback'; }

        function botMove() {
            let moves = game.moves({verbose:true});
            if(!moves.length) return;
            let move = moves[Math.floor(Math.random()*moves.length)];
            game.move(move.san);
            board.position(game.fen());
            if(move.captured) {
                playTone(150, 'sawtooth', 0.1);
                spawnParticles(move.to, 'white');
            } else playTone(300, 'sine', 0.1);
            updateStatus();
            checkGameOver();
        }

        function checkGameOver() {
            if(game.game_over()) {
                let win = false;
                let msg = "Unentschieden";
                let reward = 5;

                if(game.in_checkmate()) {
                    let winner = game.turn() === 'w' ? 'black' : 'white';
                    if((mode==='bot' && winner==='white') || (mode==='online' && winner===myColor)) {
                        win = true; msg = "Du hast gewonnen!"; reward = 50;
                        playTone(600, 'square', 0.2); setTimeout(()=>playTone(800,'square',0.4),200);
                    } else {
                        msg = "Verloren..."; reward = 5;
                        playTone(200, 'sawtooth', 0.5);
                    }
                }

                $('#go-title').text(win ? "GEWONNEN!" : "GAME OVER");
                $('#go-msg').text(msg);
                $('#go-reward').text(`+${reward} M√ºnzen ${win ? '| +1 Sieg' : ''}`);
                $('#go-icon').css('color', win ? 'var(--accent)' : '#555');
                $('#modal-gameover').css('display', 'flex');

                let uid = auth.currentUser.uid;
                db.ref('users/'+uid).transaction(d => {
                    if(d) {
                        d.coins = (d.coins||0) + reward;
                        if(win) d.wins = (d.wins||0) + 1;
                    }
                    return d;
                });
            }
        }

        function updateStatus() {
            let s = game.turn()==='w' ? "Wei√ü" : "Schwarz";
            if(game.in_check()) s += " (SCHACH!)";
            $('#game-status').text(s);
        }

        function startBotGame() {
            mode = 'bot';
            switchScreen('screen-game');
            setTimeout(() => initBoard('bot'), 200);
        }
        function startOnline(c) {
            let r = $('#room-input').val();
            if(!r) return alert("Raumname fehlt!");
            mode = 'online'; roomId = r; myColor = c;
            switchScreen('screen-game');
            setTimeout(() => {
                initBoard('online');
                if(c==='black') board.orientation('black');
            }, 200);

            initChat(r);
            db.ref('games/'+r).off();
            db.ref('games/'+r).on('value', snap => {
                let d = snap.val();
                if(d && d.fen && d.fen !== game.fen()) {
                    game.load(d.fen);
                    board.position(d.fen);
                    if(d.lastMove && d.lastMove.captured) {
                        playTone(150, 'sawtooth', 0.1);
                        spawnParticles(d.lastMove.to, d.lastMove.color === 'w' ? '#fff' : '#000');
                    } else playTone(300, 'sine', 0.1);
                    updateStatus();
                    checkGameOver();
                }
            });
        }
        function quitGame() {
            if(mode==='online') { db.ref('games/'+roomId).off(); db.ref('chats/'+roomId).off(); }
            switchScreen('screen-lobby');
        }
        function closeModal() { $('#modal-gameover').hide(); quitGame(); }

        function initChat(r) {
            $('#chat-msgs').empty();
            db.ref('chats/'+r).off();
            db.ref('chats/'+r).limitToLast(10).on('child_added', s => {
                let m = s.val();
                let me = m.uid === auth.currentUser.uid;
                let html = `<div class="msg" style="text-align:${me?'right':'left'}; color:${me?'white':'#aaa'}">
                    <b>${me?'Ich':'Gegner'}:</b> ${m.txt}
                </div>`;
                $('#chat-msgs').append(html);
            });
        }
        function sendChat() {
            let t = $('#chat-input').val();
            if(!t) return;
            db.ref('chats/'+roomId).push({txt:t, uid:auth.currentUser.uid});
            $('#chat-input').val('');
        }
        
        function addFriend() {
            let email = $('#friend-email').val().replace(/\./g, ',');
            db.ref('email_index/'+email).once('value', snap => {
                let uid = snap.val();
                if(uid) {
                    if(uid === auth.currentUser.uid) return alert("Das bist du selbst.");
                    db.ref('users/'+auth.currentUser.uid+'/friends/'+uid).set(true);
                    alert("Freund hinzugef√ºgt!");
                } else alert("Nicht gefunden.");
            });
        }
        function loadFriends() {
            db.ref('users/'+auth.currentUser.uid+'/friends').on('value', snap => {
                $('#friend-list').empty();
                let friends = snap.val();
                if(friends) {
                    Object.keys(friends).forEach(fid => {
                        db.ref('users/'+fid).once('value', s => {
                            let d = s.val();
                            $('#friend-list').append(`<div style="background:#222; padding:5px; margin-bottom:5px;">üë§ ${d.username}</div>`);
                        });
                    });
                }
            });
        }

        // --- SHOP (GRATIS VERSION) ---
        function renderShop() {
            let grid = $('#shop-grid'); grid.empty();
            let unlocked = userData.unlockedSkins || ['classic'];
            Object.keys(SKINS).forEach(k => {
                let s = SKINS[k];
                let isOwned = unlocked.includes(k);
                let isActive = userData.skin === k;
                let btn = '';
                
                if(isActive) btn = `<button class="btn-green" disabled>Aktiv</button>`;
                else if(isOwned) btn = `<button class="btn-dark" onclick="equipSkin('${k}')">W√§hlen</button>`;
                else btn = `<button class="btn-gold" onclick="buySkin('${k}')">Gratis Kaufen</button>`; // TEXT ANPASSUNG
                
                grid.append(`<div style="background:var(--panel); padding:15px; border-radius:6px; border:1px solid #333;">
                    <div class="${s.css}" style="height:50px; margin-bottom:10px;"></div>
                    <b>${s.name}</b><br>${btn}
                </div>`);
            });
        }
        
        function buySkin(k) {
            let uid = auth.currentUser.uid;
            let currentSkins = userData.unlockedSkins || ['classic'];
            
            // Wenn der Skin noch nicht dabei ist, hinzuf√ºgen
            if(!currentSkins.includes(k)) {
                let newSkins = [...currentSkins, k];
                // Wir ziehen KEINE M√ºnzen ab (Cost egal), wir updaten nur die Liste
                db.ref('users/'+uid).update({ unlockedSkins: newSkins, skin: k });
                alert("Skin gekauft (0 M√ºnzen)!");
            }
        }
        
        function equipSkin(k) { db.ref('users/'+auth.currentUser.uid).update({skin:k}); }

        function spawnParticles(sq, color) {
            let $el = $(`.square-${sq}`);
            if(!$el.length) return;
            let pos = $el.offset();
            for(let i=0; i<15; i++) {
                let p = $('<div class="particle"></div>').css({
                    background: color, left: pos.left+30, top: pos.top+30
                });
                $('body').append(p);
                let x = (Math.random()-0.5)*100;
                let y = (Math.random()-0.5)*100;
                p.animate({left: `+=${x}`, top: `+=${y}`, opacity: 0}, 600, () => p.remove());
            }
        }

    </script>
</body>
</html>
